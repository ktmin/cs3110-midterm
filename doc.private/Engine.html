<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="State.html">
<link rel="next" href="Authors.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Hogwarts" rel="Chapter" href="Hogwarts.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="State" rel="Chapter" href="State.html">
<link title="Engine" rel="Chapter" href="Engine.html">
<link title="Authors" rel="Chapter" href="Authors.html"><title>Engine</title>
</head>
<body>
<div class="navbar"><a class="pre" href="State.html" title="State">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Authors.html" title="Authors">Next</a>
</div>
<h1>Module <a href="type_Engine.html">Engine</a></h1>

<pre><span id="MODULEEngine"><span class="keyword">module</span> Engine</span>: <code class="code">sig</code> <a href="Engine.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>The main entry point for the game interface.</p>
</div>
</div>
<hr width="100%">

<pre><code><span id="TYPEend_state"><span class="keyword">type</span> <code class="type"></code>end_state</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTend_state.Win"><span class="constructor">Win</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTend_state.Loss"><span class="constructor">Loss</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTend_state.Continue"><span class="constructor">Continue</span></span></code></td>

</tr></table>



<pre><span id="VALenemy_turn"><span class="keyword">val</span> enemy_turn</span> : <code class="type"><a href="Hogwarts.html#TYPEt">Hogwarts.t</a> -> <a href="State.html#TYPEt">State.t</a> -> <a href="State.html#TYPEt">State.t</a> -> ANSITerminal.style -> <a href="State.html#TYPEt">State.t</a> * <a href="State.html#TYPEt">State.t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">enemy_turn hogwarts enemy player house</code> takes in the arguments with enemy
    as the caster and performs a basic naive action (attacking with as much 
    damage each time as possible). It returns a tuple where the first argument 
    is the new enemy state and the second, the new player state.</p>
</div>
</div>

<pre><span id="VALcheck_conditions"><span class="keyword">val</span> check_conditions</span> : <code class="type"><a href="State.html#TYPEt">State.t</a> -> <a href="State.html#TYPEt">State.t</a> -> <a href="Engine.html#TYPEend_state">end_state</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">check_conditions player enemy</code> checks to see whether <code class="code">player</code> or <code class="code">enemy</code>
    is below 0 health and if so, produces a Loss or Win state respictively if 
    one has less than required health. Otherwise Continue is produced.
    If both are under 0 health then by default the method will currently award 
    the player the victory.</p>
</div>
</div>

<pre><span id="VALlist_cards"><span class="keyword">val</span> list_cards</span> : <code class="type"><a href="Hogwarts.html#TYPEspell_info">Hogwarts.spell_info</a> list -> ANSITerminal.style -> unit</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">list_cards spells house</code> prints the names of all <code class="code">spells</code> in the colour
    of <code class="code">house</code></p>
</div>
</div>

<pre><span id="VALplay"><span class="keyword">val</span> play</span> : <code class="type"><a href="State.html#TYPEt">State.t</a> -> <a href="State.html#TYPEt">State.t</a> -> ANSITerminal.style -> <a href="Hogwarts.html#TYPEt">Hogwarts.t</a> -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">play player enemy house name</code> is the main game loop that takes in <code class="code">player</code>
    and <code class="code">enemy</code> states, <code class="code">house</code> text color and <code class="code">name</code> hogwarts game state and 
    progresses based on player inputs until a win/loss condition is fulfilled.</p>
</div>
</div>

<pre><span id="VALchoose_house"><span class="keyword">val</span> choose_house</span> : <code class="type">string -> ANSITerminal.style option</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">choose_house h</code> returns the colour representing the respective Harry Potter
    house as specified by <code class="code">h</code>. If the house name is invalid 
    (name does not exist), None will be returned.</p>
</div>
</div>

<pre><span id="VALplay_init"><span class="keyword">val</span> play_init</span> : <code class="type">string -> string -> ANSITerminal.style -> 'a</code></pre>
<pre><span id="VALname"><span class="keyword">val</span> name</span> : <code class="type">ANSITerminal.style -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">name house</code> takes in the ANSITerminal colour <code class="code">house</code> and records the 
    player's name to be used in gameplay. 
    The name specified should be regular ASCII alphabet with no numbers 
    or special characters. Method will repeat until a valid input is received.</p>
</div>
</div>

<pre><span id="VALhouse"><span class="keyword">val</span> house</span> : <code class="type">unit -> 'a</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">house</code> begins the game by asking the player for their chose Harry Potter
    house. It will progress to name and gameplay if a valid name is provided
    (case-insensitive) or repeat until a valid one is inputted.</p>
</div>
</div>
</body></html>